{% load static %}

<header id="header">
    <div class="container-fluid  d-flex align-items-center">
        <div class="row">

            <div class="col-md-2  d-flex align-items-center">
                <div class="main-logo  ">
                    <a href="/"><img src="{% static 'images/logo-book-buffet.png' %}" alt="logo"></a>
                </div>

            </div>

            <div class="col-md-10 ">

                <nav id="navbar">
                    <div class="main-menu stellarnav  ">
                        <ul class="menu-list">

                            <li class="menu-item"><a href="/" id="home">Home</a></li>

                            <li class="menu-item">
                                <a href="/catalog/" class="nav-link" id="catalog">Catalog</a></li>
                            </li>

                            <li class="menu-item has-sub">
                                <a href="/publish/" class="nav-link" id="publish">Publish</a>
                                <ul>
                                    <li><a href="/publish/">Publish a Book</a></li>
                                    <li><a href="/publish/my-publish">My Publish</a></li>
                                    <li><a href="/publish/verify-publish/">Verify Books<span class="badge bg-dark">Admin Only</span></a></li>
                                </ul>
                            </li>

                            <li class="menu-item has-sub">
                                <a href="/forum/" class="nav-link" id="forum">Forum</a>
                                <ul>
                                    <li ><a href="/forum/">Forum</a></li>
                                    <li ><a href="/forum/mypost/">My Post</a></li>

                                </ul>
                            </li>

                            <li class="menu-item">
                                <a href="/MyBooks/" class="nav-link" id="MyBooks">My Books</a>
                            </li>

                            <li class="menu-item has-sub">
                                <a href="#pages" class="nav-link"><i class="icon icon-user"></i></a>
                                <ul>

                                    <li><a href="/report/" id = "report"><i
                                        class="icon icon-clipboard"></i><span>Report a Book</span></a></li>
                                        {% if user.is_staff %}
                                        <li><a href="/report/show_report/" id = "show_report"><i
                                            class="icon icon-clipboard"></i><span>Show Reports</span></a></li>
                                        {% endif %}

                                    <li><a href="{%url 'main:logout'%}"><i class="fa fa-close"></i><span>Logout</span></a></li>
                                </ul>
                            </li>
                        </ul>

                        <div class="hamburger">
                            <span class="bar"></span>
                            <span class="bar"></span>
                            <span class="bar"></span>
                        </div>

                    </div>
                </nav>

            </div>

        </div>
    </div>
</header>

<script>
    $(document).ready(function (){
        const activePage = window.location.pathname;
        document.querySelectorAll('.nav-link').forEach(link => {
            link.classList.remove('active');
        })

        if (activePage == "/"){
            document.getElementById('home').classList.add('active');
        }else if (activePage == "/catalog/"){
            document.getElementById('catalog').classList.add('active');
        }else if (activePage == "/publish/"){
            document.getElementById('publish').classList.add('active');
        }else if (activePage == "/forum/"){
            document.getElementById('forum').classList.add('active');
        }else if (activePage == "/MyBooks/"){
            document.getElementById('MyBooks').classList.add('active');
        }else if (activePage == "/report/"){
            document.getElementById('report').classList.add('active');
        }else if (activePage == "/report/show_report/"){
            document.getElementById('show_report').classList.add('active');
        }
    });
</script>s
